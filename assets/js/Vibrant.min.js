!function t(n,e,o){function i(a,u){if(!e[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[a]={exports:{}};n[a][0].call(l.exports,function(t){var e=n[a][1][t];return i(e?e:t)},l,l.exports,t,n,e,o)}return e[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,n,e){if(!o)var o={map:function(t,n){var e={};return n?t.map(function(t,o){return e.index=o,n.call(e,t)}):t.slice()},naturalOrder:function(t,n){return n>t?-1:t>n?1:0},sum:function(t,n){var e={};return t.reduce(n?function(t,o,i){return e.index=i,t+n.call(e,o)}:function(t,n){return t+n},0)},max:function(t,n){return Math.max.apply(null,n?o.map(t,n):t)}};var i=function(){function r(n,e,o){return(n<<2*t)+(e<<t)+o}function a(t){function o(){n.sort(t),e=!0}var n=[],e=!1;return{push:function(t){n.push(t),e=!1},peek:function(t){return e||o(),void 0===t&&(t=n.length-1),n[t]},pop:function(){return e||o(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return e||o(),n}}}function u(t,n,e,o,i,r,a){var u=this;u.r1=t,u.r2=n,u.g1=e,u.g2=o,u.b1=i,u.b2=r,u.histo=a}function s(){this.vboxes=new a(function(t,n){return o.naturalOrder(t.vbox.count()*t.vbox.volume(),n.vbox.count()*n.vbox.volume())})}function c(e){var a,u,s,c,o=1<<3*t,i=new Array(o);return e.forEach(function(t){u=t[0]>>n,s=t[1]>>n,c=t[2]>>n,a=r(u,s,c),i[a]=(i[a]||0)+1}),i}function l(t,e){var l,h,f,o=1e6,i=0,r=1e6,a=0,s=1e6,c=0;return t.forEach(function(t){l=t[0]>>n,h=t[1]>>n,f=t[2]>>n,o>l?o=l:l>i&&(i=l),r>h?r=h:h>a&&(a=h),s>f?s=f:f>c&&(c=f)}),new u(o,i,r,a,s,c,e)}function h(t,n){function m(t){var i,r,a,u,f,e=t+"1",o=t+"2",p=0;for(h=n[e];h<=n[o];h++)if(c[h]>s/2){for(a=n.copy(),u=n.copy(),i=h-n[e],r=n[o]-h,f=r>=i?Math.min(n[o]-1,~~(h+r/2)):Math.max(n[e],~~(h-1-i/2));!c[f];)f++;for(p=l[f];!p&&c[f-1];)p=l[--f];return a[o]=f,u[e]=a[o]+1,[a,u]}}if(n.count()){var e=n.r2-n.r1+1,i=n.g2-n.g1+1,a=n.b2-n.b1+1,u=o.max([e,i,a]);if(1==n.count())return[n.copy()];var h,f,p,d,v,s=0,c=[],l=[];if(u==e)for(h=n.r1;h<=n.r2;h++){for(d=0,f=n.g1;f<=n.g2;f++)for(p=n.b1;p<=n.b2;p++)v=r(h,f,p),d+=t[v]||0;s+=d,c[h]=s}else if(u==i)for(h=n.g1;h<=n.g2;h++){for(d=0,f=n.r1;f<=n.r2;f++)for(p=n.b1;p<=n.b2;p++)v=r(f,h,p),d+=t[v]||0;s+=d,c[h]=s}else for(h=n.b1;h<=n.b2;h++){for(d=0,f=n.r1;f<=n.r2;f++)for(p=n.g1;p<=n.g2;p++)v=r(f,p,h),d+=t[v]||0;s+=d,c[h]=s}return c.forEach(function(t,n){l[n]=s-t}),m(u==e?"r":u==i?"g":"b")}}function f(n,r){function m(t,n){for(var r,o=1,i=0;e>i;)if(r=t.pop(),r.count()){var a=h(u,r),s=a[0],c=a[1];if(!s)return;if(t.push(s),c&&(t.push(c),o++),o>=n)return;if(i++>e)return}else t.push(r),i++}if(!n.length||2>r||r>256)return!1;var u=c(n),p=0;u.forEach(function(){p++});var d=l(n,u),v=new a(function(t,n){return o.naturalOrder(t.count(),n.count())});v.push(d),m(v,i*r);for(var b=new a(function(t,n){return o.naturalOrder(t.count()*t.volume(),n.count()*n.volume())});v.size();)b.push(v.pop());m(b,r-b.size());for(var g=new s;b.size();)g.push(b.pop());return g}var t=5,n=8-t,e=1e3,i=.75;return u.prototype={volume:function(t){var n=this;return(!n._volume||t)&&(n._volume=(n.r2-n.r1+1)*(n.g2-n.g1+1)*(n.b2-n.b1+1)),n._volume},count:function(t){var n=this,e=n.histo;if(!n._count_set||t){var i,a,u,o=0;for(i=n.r1;i<=n.r2;i++)for(a=n.g1;a<=n.g2;a++)for(u=n.b1;u<=n.b2;u++)index=r(i,a,u),o+=e[index]||0;n._count=o,n._count_set=!0}return n._count},copy:function(){var t=this;return new u(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(n){var e=this,o=e.histo;if(!e._avg||n){var l,h,f,p,d,i=0,a=1<<8-t,u=0,s=0,c=0;for(h=e.r1;h<=e.r2;h++)for(f=e.g1;f<=e.g2;f++)for(p=e.b1;p<=e.b2;p++)d=r(h,f,p),l=o[d]||0,i+=l,u+=l*(h+.5)*a,s+=l*(f+.5)*a,c+=l*(p+.5)*a;i?e._avg=[~~(u/i),~~(s/i),~~(c/i)]:e._avg=[~~(a*(e.r1+e.r2+1)/2),~~(a*(e.g1+e.g2+1)/2),~~(a*(e.b1+e.b2+1)/2)]}return e._avg},contains:function(t){var e=this,o=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,o>=e.r1&&o<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},s.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var n=this.vboxes,e=0;e<n.size();e++)if(n.peek(e).vbox.contains(t))return n.peek(e).color;return this.nearest(t)},nearest:function(t){for(var e,o,i,n=this.vboxes,r=0;r<n.size();r++)o=Math.sqrt(Math.pow(t[0]-n.peek(r).color[0],2)+Math.pow(t[1]-n.peek(r).color[1],2)+Math.pow(t[2]-n.peek(r).color[2],2)),(e>o||void 0===e)&&(e=o,i=n.peek(r).color);return i},forcebw:function(){var t=this.vboxes;t.sort(function(t,n){return o.naturalOrder(o.sum(t.color),o.sum(n.color))});var n=t[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(t[0].color=[0,0,0]);var e=t.length-1,i=t[e].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[e].color=[255,255,255])}},{quantize:f}}();n.exports=i.quantize},{}],2:[function(t,n,e){(function(){var n,e,o,i=function(t,n){return function(){return t.apply(n,arguments)}},r=[].slice;window.Swatch=e=function(){function t(t,n){this.rgb=t,this.population=n}return t.prototype.hsl=void 0,t.prototype.rgb=void 0,t.prototype.population=1,t.yiq=0,t.prototype.getHsl=function(){return this.hsl?this.hsl:this.hsl=o.rgbToHsl(this.rgb[0],this.rgb[1],this.rgb[2])},t.prototype.getPopulation=function(){return this.population},t.prototype.getRgb=function(){return this.rgb},t.prototype.getHex=function(){return"#"+((1<<24)+(this.rgb[0]<<16)+(this.rgb[1]<<8)+this.rgb[2]).toString(16).slice(1,7)},t.prototype.getTitleTextColor=function(){return this._ensureTextColors(),this.yiq<200?"#fff":"#000"},t.prototype.getBodyTextColor=function(){return this._ensureTextColors(),this.yiq<150?"#fff":"#000"},t.prototype._ensureTextColors=function(){return this.yiq?void 0:this.yiq=(299*this.rgb[0]+587*this.rgb[1]+114*this.rgb[2])/1e3},t}(),window.Vibrant=o=function(){function o(t,o,r){this.swatches=i(this.swatches,this);var a,u,s,c,l,h,f,p,d,v,m,b;"undefined"==typeof o&&(o=64),"undefined"==typeof r&&(r=5),f=new n(t);try{for(p=f.getImageData(),m=p.data,v=f.getPixelCount(),u=[],h=0;v>h;)d=4*h,b=m[d+0],l=m[d+1],s=m[d+2],a=m[d+3],a>=125&&(b>250&&l>250&&s>250||u.push([b,l,s])),h+=r;c=this.quantize(u,o),this._swatches=c.vboxes.map(function(t){return function(t){return new e(t.color,t.vbox.count())}}(this)),this.maxPopulation=this.findMaxPopulation,this.generateVarationColors(),this.generateEmptySwatches()}finally{f.removeCanvas()}}return o.prototype.quantize=t("quantize"),o.prototype._swatches=[],o.prototype.TARGET_DARK_LUMA=.26,o.prototype.MAX_DARK_LUMA=.45,o.prototype.MIN_LIGHT_LUMA=.55,o.prototype.TARGET_LIGHT_LUMA=.74,o.prototype.MIN_NORMAL_LUMA=.3,o.prototype.TARGET_NORMAL_LUMA=.5,o.prototype.MAX_NORMAL_LUMA=.7,o.prototype.TARGET_MUTED_SATURATION=.3,o.prototype.MAX_MUTED_SATURATION=.4,o.prototype.TARGET_VIBRANT_SATURATION=1,o.prototype.MIN_VIBRANT_SATURATION=.35,o.prototype.WEIGHT_SATURATION=3,o.prototype.WEIGHT_LUMA=6,o.prototype.WEIGHT_POPULATION=1,o.prototype.VibrantSwatch=void 0,o.prototype.MutedSwatch=void 0,o.prototype.DarkVibrantSwatch=void 0,o.prototype.DarkMutedSwatch=void 0,o.prototype.LightVibrantSwatch=void 0,o.prototype.LightMutedSwatch=void 0,o.prototype.HighestPopulation=0,o.prototype.generateVarationColors=function(){return this.VibrantSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1),this.LightVibrantSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1),this.DarkVibrantSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1),this.MutedSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION),this.LightMutedSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION),this.DarkMutedSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION)},o.prototype.generateEmptySwatches=function(){var t;return void 0===this.VibrantSwatch&&void 0!==this.DarkVibrantSwatch&&(t=this.DarkVibrantSwatch.getHsl(),t[2]=this.TARGET_NORMAL_LUMA,this.VibrantSwatch=new e(o.hslToRgb(t[0],t[1],t[2]),0)),void 0===this.DarkVibrantSwatch&&void 0!==this.VibrantSwatch?(t=this.VibrantSwatch.getHsl(),t[2]=this.TARGET_DARK_LUMA,this.DarkVibrantSwatch=new e(o.hslToRgb(t[0],t[1],t[2]),0)):void 0},o.prototype.findMaxPopulation=function(){var t,n,e,o,i;for(e=0,o=this._swatches,t=0,n=o.length;n>t;t++)i=o[t],e=Math.max(e,i.getPopulation());return e},o.prototype.findColorVariation=function(t,n,e,o,i,r){var a,u,s,c,l,h,f,p,d;for(c=void 0,l=0,h=this._swatches,a=0,u=h.length;u>a;a++)p=h[a],f=p.getHsl()[1],s=p.getHsl()[2],f>=i&&r>=f&&s>=n&&e>=s&&!this.isAlreadySelected(p)&&(d=this.createComparisonValue(f,o,s,t,p.getPopulation(),this.HighestPopulation),(void 0===c||d>l)&&(c=p,l=d));return c},o.prototype.createComparisonValue=function(t,n,e,o,i,r){return this.weightedMean(this.invertDiff(t,n),this.WEIGHT_SATURATION,this.invertDiff(e,o),this.WEIGHT_LUMA,i/r,this.WEIGHT_POPULATION)},o.prototype.invertDiff=function(t,n){return 1-Math.abs(t-n)},o.prototype.weightedMean=function(){var t,n,e,o,i,a;for(i=1<=arguments.length?r.call(arguments,0):[],n=0,e=0,t=0;t<i.length;)o=i[t],a=i[t+1],n+=o*a,e+=a,t+=2;return n/e},o.prototype.swatches=function(){return{Vibrant:this.VibrantSwatch,Muted:this.MutedSwatch,DarkVibrant:this.DarkVibrantSwatch,DarkMuted:this.DarkMutedSwatch,LightVibrant:this.LightVibrantSwatch,LightMuted:this.LightMuted}},o.prototype.isAlreadySelected=function(t){return this.VibrantSwatch===t||this.DarkVibrantSwatch===t||this.LightVibrantSwatch===t||this.MutedSwatch===t||this.DarkMutedSwatch===t||this.LightMutedSwatch===t},o.rgbToHsl=function(t,n,e){var o,i,r,a,u,s;if(t/=255,n/=255,e/=255,a=Math.max(t,n,e),u=Math.min(t,n,e),i=void 0,s=void 0,r=(a+u)/2,a===u)i=s=0;else{switch(o=a-u,s=r>.5?o/(2-a-u):o/(a+u),a){case t:i=(n-e)/o+(e>n?6:0);break;case n:i=(e-t)/o+2;break;case e:i=(t-n)/o+4}i/=6}return[i,s,r]},o.hslToRgb=function(t,n,e){var o,i,r,a,u,s;return s=void 0,i=void 0,o=void 0,r=function(t,n,e){return 0>e&&(e+=1),e>1&&(e-=1),1/6>e?t+6*(n-t)*e:.5>e?n:2/3>e?t+(n-t)*(2/3-e)*6:t},0===n?s=i=o=e:(u=.5>e?e*(1+n):e+n-e*n,a=2*e-u,s=r(a,u,t+1/3),i=r(a,u,t),o=r(a,u,t-1/3)),[255*s,255*i,255*o]},o}(),window.CanvasImage=n=function(){function t(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)}return t.prototype.clear=function(){return this.context.clearRect(0,0,this.width,this.height)},t.prototype.update=function(t){return this.context.putImageData(t,0,0)},t.prototype.getPixelCount=function(){return this.width*this.height},t.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},t.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)},t}()}).call(this)},{quantize:1}]},{},[2]);